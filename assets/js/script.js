!function(e){"use strict";if(ElLiveCopyData.enable){var t={globalSelector:function(t){this._document=e(document),this._elItem=this._document.find(".elementor-element.e-con:not(.elementor-element.e-con .elementor-element.e-con), .elementor-section.elementor-top-section:not(.elementor-section.elementor-top-section .elementor-section.elementor-top-section)"),0===this._elItem.length&&(this._elItem=this._document.find(".elementor-section.elementor-top-section"))},copyBtn:function(){e(this._elItem).each((function(){(e.trim(e(this).find(".elementor-widget-wrap").html())||e.trim(e(this).find(".e-con-inner").html()))&&e(this).append('<div class="ellc-magic-copy-wrapper"><a aria-label="Click live copy button to copy this block." data-microtip-position="left" role="tooltip" class="ellc-copy-btn">Live Copy</a><a href="javascript:void(0)" class="ellc-magic-copy-info">?</a></div>'),e(e(this).find(".ellc-magic-copy-item")).hover((function(){e(this).parent().addClass("ellc-copy-selected")}),(function(){e(this).parent().removeClass("ellc-copy-selected")}))}))},copyData:function(){this._document.on("click","a.ellc-copy-btn",(function(o){o.preventDefault();var n=e(this).closest(t._elItem),i=e(this),c=n.data("id"),l=ElLiveCopyData.post_id,a=ElLiveCopyData.ajax_url,s=ElLiveCopyData.nonce;e.ajax({url:a,type:"POST",data:{action:"ellc_copy_data",widget_id:c,post_id:l,_wp_nonce:s},beforeSend:function(){i.text("Copying...")}}).done((function(e){if(i.text("Copied"),setTimeout((function(){i.text("Live Copy")}),2e3),e.success){console.log(e.data.widget);var t=document.createElement("textarea");t.value=JSON.stringify(e.data.widget),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}})).fail((function(e){i.text("Failed!")}))}))},init:function(){t.globalSelector(),t.copyBtn(),t.copyData()}};e(document).ready((function(){t.init()}))}}(jQuery);